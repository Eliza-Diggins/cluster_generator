
<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Virialization &#8212; cluster_generator  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fd506691" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster.custom.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster.bundle.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster-sideTip-shadow.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster-sideTip-punk.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster-sideTip-noir.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster-sideTip-light.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/tooltipster-sideTip-borderless.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/micromodal.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../../_static/nbsphinx-code-cells.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script src="../../_static/jquery.js?v=5d32c60e"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v=ccbe24c1"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/js/hoverxref.js"></script>
    <script src="../../_static/js/tooltipster.bundle.min.js"></script>
    <script src="../../_static/js/micromodal.min.js"></script>
    <script src="../../_static/design-tabs.js?v=36754332"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'notebooks/api_guides/2';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Advanced Use Cases" href="3.html" />
    <link rel="prev" title="Data Structures in cluster_generator" href="1.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  <div class="navbar-header-items__start">
    
      <div class="navbar-item">
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    <p class="title logo__title">cluster_generator  documentation</p>
  
</a></div>
    
  </div>
  
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../Getting_Started.html">
                        Quickstart Guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../gravity.html">
                        Gravity Theories
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../models.html">
                        Cluster Models
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../collections.html">
                        Collections
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../../examples.html">
                        Examples
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../api.html">
                        API
                      </a>
                    </li>
                
                </div>
            </div>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../Getting_Started.html">
                        Quickstart Guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../gravity.html">
                        Gravity Theories
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../models.html">
                        Cluster Models
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../collections.html">
                        Collections
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../../examples.html">
                        Examples
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../api.html">
                        API
                      </a>
                    </li>
                
                </div>
            </div>
            
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="1.html">Data Structures in cluster_generator</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Virialization</a></li>
<li class="toctree-l1"><a class="reference internal" href="3.html">Advanced Use Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="4.html">Feature Guide: Using Builtin Collections</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumbs">
  <ul class="bd-breadcrumbs" role="navigation" aria-label="Breadcrumb">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../../examples.html" class="nav-link">Examples</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Virialization</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="Virialization">
<h1>Virialization<a class="headerlink" href="#Virialization" title="Permalink to this heading">#</a></h1>
<p>One of the key parts of initializing N-body simulations is to determine not only the particle positions, but also their velocities. Doing so can be a tricky business as constructing systems which have dynamical stability is a mathematically non-trivial task. What’s more, in modified gravities / non-newtonian gravities it may be impossible to use many of the standard tools available in the standard dynamical literature.</p>
<p>In the <code class="docutils literal notranslate"><span class="pre">cluster_generator</span></code> library, there are currently 2 implemented approaches for undertaking this task: the first uses the Eddington formula, and the second the Local Maxwellian Approximation. This guide will take you step by step through the necessary background to understand not only how these approaches work, but also which is best for your current project.</p>
<hr class="docutils" />
<section id="Conents">
<h2>Conents<a class="headerlink" href="#Conents" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="#Galactic-Dynamics"><span class="std std-ref">Galactic Dynamics</span></a></p>
<ul>
<li><p><a class="reference internal" href="#The-Distribution-Function"><span class="std std-ref">The Distribution Function</span></a></p></li>
<li><p><a class="reference internal" href="#The-Collisionless-Boltzmann-Equation"><span class="std std-ref">The Collisionless Boltzmann Equation</span></a></p></li>
<li><p>The Jean’s Equation</p></li>
<li><p>The Jean’s Theorem</p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#The-Eddington-Formula"><span class="std std-ref">The Eddington Formula</span></a></p></li>
<li><p><a class="reference internal" href="#The-Local-Maxwellian-Approximation"><span class="std std-ref">The Local Maxwellian Approximation</span></a></p></li>
<li><p><cite>Virialization in ``cluster_generator`</cite> &lt;#Virialization-in-cluster_generator&gt;`__</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="Galactic-Dynamics">
<h2>Galactic Dynamics<a class="headerlink" href="#Galactic-Dynamics" title="Permalink to this heading">#</a></h2>
<p>Before we begin discussing the nuts and bolts of each method, it is worth reviewing some of the basic tenants of galactic dynamics. For a useful reference and for deeper information, see Binney and Tremaine.</p>
<section id="The-Distribution-Function">
<h3>The Distribution Function<a class="headerlink" href="#The-Distribution-Function" title="Permalink to this heading">#</a></h3>
<p>In describing the necessary mathematics of this task, we are interested in determining the correct positions and velocities to assign to an ensemble of particles in the chosen simulation domain. Generically, it is useful to refer to the system using its <strong>distribution function</strong> $f(<span class="math">\textbf{x}</span>,:nbsphinx-math:<cite>textbf{v}</cite>) $, which acts as the probability distribution function in the phase space of the system spanned by all possible values of the position and velocity. In
principle, if one knows <span class="math notranslate nohighlight">\(f(\textbf{x},\textbf{v})\)</span>, then the task of generating initial conditions is simple; just sample from the distribution function as needed. Unfortunately, this is often not a viable strategy and a considerable degree of manipulation is required to undertake this task. Nonetheless, the Eddington formula is a simplified case of determining the distribution function which is only viable in spherically symmetric potentials. In more complex cases, approximations or
statistical methods are required. The Local Maxwellian approximation is one of these approaches, and aims to determine only moments of the distribution function instead of the distribution function itself.</p>
</section>
<section id="The-Collisionless-Boltzmann-Equation">
<h3>The Collisionless Boltzmann Equation<a class="headerlink" href="#The-Collisionless-Boltzmann-Equation" title="Permalink to this heading">#</a></h3>
<p>One of the most important results in classical mechanics is the so-called <strong>Liouville Theorem</strong>, which states that given an ensemble of states in a phase space, the local density of states in the neighborhood of any chosen states is constant. In a more intuitive sense, as an “ensemble of systems” flows through phase space with time, it forms an <strong>incompressible flow</strong>. In the context of classical dynamics, we often express this theorem as</p>
<div class="math notranslate nohighlight">
\[\frac{dD}{dt} = [D,\mathcal{H}] + \frac{\partial D}{\partial t} = \frac{\partial D}{\partial t} + \sum_{j=1}^{2N_{\mathrm{dim}}} \frac{\partial D}{\partial x_j} \dot{x}_j,\]</div>
<p>where <span class="math notranslate nohighlight">\(\mathcal{H}\)</span> is the systems Hamiltonian, and the brackets indicate the Poisson bracket notation. In the second expression, not that the summation is over coordinates in phase space, i.e. both velocity and space.</p>
<p>Now, if one thinks of each particle as representing its own “system” subject to the Hamiltonian determined by the global gravitational properties of the system, but ignoring any potential for particle-particle interaction, then instead of the “density of states”, we can instead simply use the distribution function. Furthermore, <span class="math notranslate nohighlight">\(\dot{\textbf{v}} = -\nabla \Phi\)</span>, which yields the equivalent statement</p>
<div class="math notranslate nohighlight">
\[\frac{\partial f}{\partial t} + \textbf{v}\cdot \frac{\partial f}{\partial \textbf{x}} - \nabla \Phi \cdot \frac{\partial f}{\partial \textbf{v}} = 0.\]</div>
<p>This equation is called the <strong>Collisionless Boltzmann Equation</strong>, or the <strong>Vlasov Equation</strong> and is of extreme importance to our current purpose.</p>
<p>The key benefit that comes from this equation is that it can be used to determine moments of the distribution function. It should also be noted that the CBE is applicable regardless of gravitational theory as long as that they’re described in Hamiltonian systems (those for which a Lagrangian / Lagrangian density can be consistently obtained in some form). Most importantly, because MOND (in its manifestations as AQUAL and QUMOND) is a classical field theory, it is also satisfied by the CBE.</p>
</section>
<section id="The-Jean's-Equation">
<h3>The Jean’s Equation<a class="headerlink" href="#The-Jean's-Equation" title="Permalink to this heading">#</a></h3>
<p>By taking moments of the CBE, one can obtain Jean’s equation, which has the form</p>
<div class="math notranslate nohighlight">
\[\nu \left\{\frac{\partial \left&lt;v_j\right&gt;}{\partial t} + \sum_i \left&lt;v_i\right&gt; \frac{\partial \left&lt;v_j\right&gt;}{\partial x_i} + \frac{\partial \Phi}{\partial x_j}\right\} + \sum_i \frac{\partial \left(\nu \sigma_{ij}^2\right)}{\partial x_i} = 0,\]</div>
<p>where <span class="math notranslate nohighlight">\(\nu\)</span> is the <strong>position space density</strong>, and <span class="math notranslate nohighlight">\(\Phi\)</span> is the <strong>force-conveying potential</strong>. We make a special point of noting that it us the force-conveying potential because in multi-potential theories (QUMOND for example), the potential in the Jean’s equation must refer to the potential from which the force is derived. The Jean’s equation becomes very important in the Local Maxwellian Approach.</p>
</section>
<section id="The-Jean's-Theorem">
<h3>The Jean’s Theorem<a class="headerlink" href="#The-Jean's-Theorem" title="Permalink to this heading">#</a></h3>
<p>Not to be confused with the <a class="reference internal" href="#The-Jean's-Equation"><span class="std std-ref">Jean’s Equation</span></a>, the Jean’s Theorem states the following</p>
<div class="alert alert-block alert-info"><p>Theorem: states that any steady-state solution of the collisionless Boltzmann equation depends on the phase space coordinates only through integrals of motion in the given potential, and conversely any function of the integrals is a steady-state solution.</p>
</div><p>Generally, this fact isn’t that useful. After all, actually finding the integrals of motion is a troublesome task in and of itself. Fortunately, in spherical symmetry, 4 integrals of motion can be relatively easily provided: <span class="math notranslate nohighlight">\(E, \textbf{L}\)</span>. In fact, we may even state a special case of the theorem which applies in spherically symmetric systems:</p>
<div class="alert alert-block alert-info"><p>Theorem: The distribution function <span class="math notranslate nohighlight">\(f(\textbf{x},\textbf{v})\)</span> depends only on the angular momentum and the energy in a spherically symmetric system. When the system is irrotational, the distribution function then reduces to a function of only the energy.</p>
</div></section>
</section>
<section id="The-Eddington-Formula">
<h2>The Eddington Formula<a class="headerlink" href="#The-Eddington-Formula" title="Permalink to this heading">#</a></h2>
<p>Now its time to get down to the business of actually using any of this information. Recalling that <span class="math notranslate nohighlight">\(f\)</span> is the distribution function, we may combine this with the poisson equation to obtain</p>
<div class="math notranslate nohighlight">
\[\int f(\textbf{x},\textbf{v}) d^3\textbf{v} = \frac{1}{4\pi G} \nabla^2 \Phi\]</div>
<p>Consider a velocity distribution function $ f(<span class="math">\textbf{v}</span>) $. Then (in Newtonian gravity), the RHS of the equation may be expanded in spherical coordinates to yield a non-trivial differential equation in $ f $.In the case of galaxy clusters, the Jean’s Theorem applies, stipulating that $ f $ be a function only of energy and angular momentum. If,as is typical, we assume that the system is irrotational, the angular momentum is constant and the function becomes dependent onlyon the
energy. To simplify the notation, we denote the <strong>relative potential</strong> to be $ <span class="math">\Psi `= -:nbsphinx-math:</span>Phi <cite>+ :nbsphinx-math:</cite>Phi`_0 $ and the relative energyto be $ <span class="math">\mathcal{E}</span> = -E + <span class="math">\Phi</span>_0 = <span class="math">\Psi `- :nbsphinx-math:</span>frac{1}{2}`v^2 $. In this case, the equation above may be simplified to the form</p>
<div class="math notranslate nohighlight">
\[\rho(r) = 4\pi \int_0^\Psi f(\mathcal{E})\sqrt{2(\Psi - \mathcal{E})} d\mathcal{E}.\]</div>
<p>If $ :nbsphinx-math:<a href="#id1"><span class="problematic" id="id2">`</span></a>rho <a href="#id3"><span class="problematic" id="id4">`</span></a>$ is considered a function of the relative potential, then one may obtain the equation</p>
<div class="math notranslate nohighlight">
\[\frac{1}{\sqrt{8}\pi}\frac{d\rho}{d\Psi} = \int_0^\Psi \frac{f(\mathcal{E}) d\mathcal{E}}{\sqrt{\Psi-\mathcal{E}}}\]</div>
<p>Blinney and Tremaine note that this is an Abel integral and may be inverted to yield</p>
<div class="math notranslate nohighlight">
\[f(\mathcal{E}) = \frac{1}{\sqrt{8}\pi^2} \frac{d}{d\mathcal{E}}\int_0^\mathcal{E} \frac{d\rho}{d\Psi} \frac{d\Psi}{\sqrt{\mathcal{E}-\Psi}}\]</div>
<p>This is the approach used in <code class="docutils literal notranslate"><span class="pre">cluster_generator</span></code> for the generation of virialized systems when using Newtonian dynamics.</p>
<div class="alert alert-block alert-info"><p>Note: While this approach is viable in Newtonian gravity, its reliance on the classical poisson equation makes it non-implementable for MOND gravities.</p>
</div></section>
<section id="The-Local-Maxwellian-Approximation">
<h2>The Local Maxwellian Approximation<a class="headerlink" href="#The-Local-Maxwellian-Approximation" title="Permalink to this heading">#</a></h2>
<p>While the Eddington Formula provides an ideal approach in Newtonian gravity, when using non-newtonian gravity or badly behaved profiles even in Newtonian gravity, analytical approaches may become non-viable; however, the Local Maxwellian approximation (LMA) can be used to obtain a viable estimate for the distribution function nonetheless. Consider the Jeans Equation in spherically symmetry:</p>
<div class="math notranslate nohighlight">
\[\frac{\partial \rho \sigma_r^2}{\partial r} + \frac{2\rho}{r}\left(\sigma_r^2 -\sigma^2_\theta\right) + \rho \frac{\partial \Phi}{\partial r} = 0.\]</div>
<p>If one also assumes that the stress tensor is entirely isotropic, then the equation may be manipulated to allow one to find the velocity dispersion</p>
<div class="math notranslate nohighlight">
\[\sigma_r^2 = \frac{1}{\rho_h}\int_r^\infty \rho_h \frac{d\Phi}{dr} dr\]</div>
<p>We are then able to assume a gaussian distribution function for the velocities, and thus a maxwellian distribution for the speeds</p>
<div class="math notranslate nohighlight">
\[F(v,r) = 4\pi \left(\frac{1}{2\pi \sigma_r^2}\right) v^2 \exp\left(\frac{-v^2}{2\sigma_r^2}\right)\]</div>
</section>
<section id="Virialization-in-cluster_generator">
<h2>Virialization in <code class="docutils literal notranslate"><span class="pre">cluster_generator</span></code><a class="headerlink" href="#Virialization-in-cluster_generator" title="Permalink to this heading">#</a></h2>
<hr class="docutils" />
<p>Let’s look at an example of how this plays out in the <code class="docutils literal notranslate"><span class="pre">cluster_generator</span></code> library. First off, we’re going to load a <code class="docutils literal notranslate"><span class="pre">ClusterModel</span></code> instance from file:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># -- imports -- #</span>
<span class="kn">import</span> <span class="nn">cluster_generator</span> <span class="k">as</span> <span class="nn">cg</span>

<span class="c1"># -- loading the model -- #</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">cg</span><span class="o">.</span><span class="n">ClusterModel</span><span class="o">.</span><span class="n">from_h5_file</span><span class="p">(</span><span class="s2">&quot;profile_1.h5&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
cluster_generator : [INFO     ] 2023-09-02 16:30:27,458 Loading ClusterModel instance from profile_1.h5.
</pre></div></div>
</div>
<p>So we’ve loaded in a <code class="docutils literal notranslate"><span class="pre">ClusterModel</span></code> object, to what whats going on with the virialization, we are interested in the <code class="docutils literal notranslate"><span class="pre">.&lt;ptype&gt;_virial</span></code> attributes:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The dm_virial attribute is </span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">dm_virial</span><span class="si">}</span><span class="s2"> which has type </span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">dm_virial</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The dm_virial attribute is &lt;cluster_generator.virial.VirialEquilibrium object at 0x7f5675f5d220&gt; which has type lma.
</pre></div></div>
</div>
<p>So we see that there is already a <code class="docutils literal notranslate"><span class="pre">VirialEquilibrium</span></code> object with type <code class="docutils literal notranslate"><span class="pre">lma</span></code>, which indicates that Local Maxwellian Approximation was done.</p>
<p>We aren’t that interested in looking at something that’s already virialized. Let’s reset it:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">_dm_virial</span> <span class="o">=</span> <span class="kc">None</span> <span class="c1"># Notice the _, this is actually a private attribute</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The dm_virial attribute is </span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">_dm_virial</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The dm_virial attribute is None
</pre></div></div>
</div>
<p>Okay, so why the <code class="docutils literal notranslate"><span class="pre">_</span></code> before? Technically <code class="docutils literal notranslate"><span class="pre">model.dm_virial</span></code> is a <code class="docutils literal notranslate"><span class="pre">&#64;property</span></code> that checks if there is a virialization method and automatically generates it if not:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">_</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">dm_virial</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The dm_virial attribute is </span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">dm_virial</span><span class="si">}</span><span class="s2"> which has type </span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">dm_virial</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"version_major": 2, "version_minor": 0, "model_id": "5e4954d68f2b41ce85c708cfc46ac1d7"}</script></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The dm_virial attribute is &lt;cluster_generator.virial.VirialEquilibrium object at 0x7f5675f5d7f0&gt; which has type lma.
</pre></div></div>
</div>
<p>Okay, so we’ve successfully computed the LMA particle dispersions (yipee!), what does that actually mean? Under the hood, <code class="docutils literal notranslate"><span class="pre">cluster_generator</span></code> is accessing a script which computes the integral</p>
<div class="math notranslate nohighlight">
\[\sigma_r^2 = \frac{1}{\rho_h}\int_r^\infty \rho_h \frac{d\Phi}{dr} dr\]</div>
<p>and determines <span class="math notranslate nohighlight">\(\sigma_r^2\)</span>. Now, when the software is ready to generate the actual particles, we’ve already got the dispersion that has to be provided to the Maxwellian distribution and all that has to happen is for us to sample the data. How do you do that?</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">parts</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">dm_virial</span><span class="o">.</span><span class="n">generate_particles</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
cluster_generator : [INFO     ] 2023-09-02 16:32:01,615 We will be assigning 1000 dark_matter particles.
cluster_generator : [INFO     ] 2023-09-02 16:32:01,617 Compute 1000 particle positions.
cluster_generator : [INFO     ] 2023-09-02 16:32:01,628 Computing dark_matter velocities using lma method.
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"version_major": 2, "version_minor": 0, "model_id": "d66fb150af7048aaacd8218d28a20823"}</script></div>
</div>
<p>At this stage, we’re referencing the underlying cython code where the PDF can be inverse cummulatively sampled many millions of times. This process is quite quick due to the static typing of cython. Let’s take a look at what things actually look like:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># -- regenerate parts with more particles -- #</span>
<span class="n">parts</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">dm_virial</span><span class="o">.</span><span class="n">generate_particles</span><span class="p">(</span><span class="mi">100_000</span><span class="p">)</span>
<span class="n">parts</span><span class="o">.</span><span class="n">add_offsets</span><span class="p">([</span><span class="mi">5000</span><span class="p">,</span><span class="mi">5000</span><span class="p">,</span><span class="mi">5000</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">parts</span><span class="o">.</span><span class="n">to_yt_dataset</span><span class="p">(</span><span class="mi">10000</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
cluster_generator : [INFO     ] 2023-09-02 16:32:01,661 We will be assigning 100000 dark_matter particles.
cluster_generator : [INFO     ] 2023-09-02 16:32:01,664 Compute 100000 particle positions.
cluster_generator : [INFO     ] 2023-09-02 16:32:01,706 Computing dark_matter velocities using lma method.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"version_major": 2, "version_minor": 0, "model_id": "9b796c2f064e45b6b0b992c3cf6e5734"}</script></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
yt : [INFO     ] 2023-09-02 16:32:03,056 Parameters: current_time              = 0.0
yt : [INFO     ] 2023-09-02 16:32:03,057 Parameters: domain_dimensions         = [1 1 1]
yt : [INFO     ] 2023-09-02 16:32:03,059 Parameters: domain_left_edge          = [0. 0. 0.]
yt : [INFO     ] 2023-09-02 16:32:03,061 Parameters: domain_right_edge         = [10000. 10000. 10000.]
yt : [INFO     ] 2023-09-02 16:32:03,062 Parameters: cosmological_simulation   = 0
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">yt</span>

<span class="n">p</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">ParticlePlot</span><span class="p">(</span><span class="n">df</span><span class="p">,(</span><span class="s2">&quot;all&quot;</span><span class="p">,</span><span class="s2">&quot;particle_position_x&quot;</span><span class="p">),(</span><span class="s2">&quot;all&quot;</span><span class="p">,</span><span class="s2">&quot;particle_position_y&quot;</span><span class="p">),(</span><span class="s2">&quot;all&quot;</span><span class="p">,</span><span class="s2">&quot;particle_mass&quot;</span><span class="p">),</span><span class="n">weight</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
yt : [INFO     ] 2023-09-02 16:32:03,069 Allocating for 1e+05 particles
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">TypeError</span>                                 Traceback (most recent call last)
Cell <span class="ansi-green-fg">In[7], line 3</span>
<span class="ansi-green-intense-fg ansi-bold">      1</span> <span class="ansi-bold" style="color: rgb(0,135,0)">import</span> <span class="ansi-bold" style="color: rgb(0,0,255)">yt</span>
<span class="ansi-green-fg">----&gt; 3</span> p <span style="color: rgb(98,98,98)">=</span> <span class="ansi-yellow-bg">yt</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">ParticlePlot</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">df</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg" style="color: rgb(175,0,0)">&#34;</span><span class="ansi-yellow-bg" style="color: rgb(175,0,0)">all</span><span class="ansi-yellow-bg" style="color: rgb(175,0,0)">&#34;</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg" style="color: rgb(175,0,0)">&#34;</span><span class="ansi-yellow-bg" style="color: rgb(175,0,0)">particle_position_x</span><span class="ansi-yellow-bg" style="color: rgb(175,0,0)">&#34;</span><span class="ansi-yellow-bg">)</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg" style="color: rgb(175,0,0)">&#34;</span><span class="ansi-yellow-bg" style="color: rgb(175,0,0)">all</span><span class="ansi-yellow-bg" style="color: rgb(175,0,0)">&#34;</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg" style="color: rgb(175,0,0)">&#34;</span><span class="ansi-yellow-bg" style="color: rgb(175,0,0)">particle_position_y</span><span class="ansi-yellow-bg" style="color: rgb(175,0,0)">&#34;</span><span class="ansi-yellow-bg">)</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg" style="color: rgb(175,0,0)">&#34;</span><span class="ansi-yellow-bg" style="color: rgb(175,0,0)">all</span><span class="ansi-yellow-bg" style="color: rgb(175,0,0)">&#34;</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg" style="color: rgb(175,0,0)">&#34;</span><span class="ansi-yellow-bg" style="color: rgb(175,0,0)">particle_mass</span><span class="ansi-yellow-bg" style="color: rgb(175,0,0)">&#34;</span><span class="ansi-yellow-bg">)</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg">weight</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg ansi-bold" style="color: rgb(0,135,0)">None</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      4</span> p<span style="color: rgb(98,98,98)">.</span>show()

File <span class="ansi-green-fg">~/.virtualenvs/cluster_generator/lib/python3.8/site-packages/yt/visualization/particle_plots.py:782</span>, in <span class="ansi-cyan-fg">ParticlePlot</span><span class="ansi-blue-fg">(ds, x_field, y_field, z_fields, color, *args, **kwargs)</span>
<span class="ansi-green-intense-fg ansi-bold">    778</span>         <span class="ansi-bold" style="color: rgb(0,135,0)">break</span>
<span class="ansi-green-intense-fg ansi-bold">    780</span> <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> direction <span style="color: rgb(98,98,98)">&lt;</span> <span style="color: rgb(98,98,98)">3</span>:
<span class="ansi-green-intense-fg ansi-bold">    781</span>     <span style="color: rgb(95,135,135)"># Make a ParticleProjectionPlot</span>
<span class="ansi-green-fg">--&gt; 782</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">return</span> <span class="ansi-yellow-bg">ParticleProjectionPlot</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">ds</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">direction</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">z_fields</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">color</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">*</span><span class="ansi-yellow-bg">args</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">*</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">*</span><span class="ansi-yellow-bg">kwargs</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    784</span> <span style="color: rgb(95,135,135)"># Does not correspond to any valid PlotWindow-style plot,</span>
<span class="ansi-green-intense-fg ansi-bold">    785</span> <span style="color: rgb(95,135,135)"># use ParticlePhasePlot instead</span>
<span class="ansi-green-intense-fg ansi-bold">    786</span> <span class="ansi-bold" style="color: rgb(0,135,0)">else</span>:
<span class="ansi-green-intense-fg ansi-bold">    787</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">return</span> ParticlePhasePlot(dd, x_field, y_field, z_fields, color, <span style="color: rgb(98,98,98)">*</span>args, <span style="color: rgb(98,98,98)">*</span><span style="color: rgb(98,98,98)">*</span>kwargs)

<span class="ansi-red-fg">TypeError</span>: __init__() got an unexpected keyword argument &#39;weight&#39;
</pre></div></div>
</div>
</section>
<hr class="docutils" />
<section id="References">
<h2>References<a class="headerlink" href="#References" title="Permalink to this heading">#</a></h2>
<p>Binney, J., &amp; Tremaine, S. (2011). Galactic dynamics (Vol. 20). Princeton university press.</p>
<hr class="docutils" />
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><br/><span></span>
</pre></div>
</div>
</div>
</section>
</section>


                </article>
              
              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="1.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Data Structures in cluster_generator</p>
      </div>
    </a>
    <a class="right-next"
       href="3.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Advanced Use Cases</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Conents">Conents</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Galactic-Dynamics">Galactic Dynamics</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#The-Distribution-Function">The Distribution Function</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#The-Collisionless-Boltzmann-Equation">The Collisionless Boltzmann Equation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#The-Jean's-Equation">The Jean’s Equation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#The-Jean's-Theorem">The Jean’s Theorem</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#The-Eddington-Formula">The Eddington Formula</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#The-Local-Maxwellian-Approximation">The Local Maxwellian Approximation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Virialization-in-cluster_generator">Virialization in <code class="docutils literal notranslate"><span class="pre">cluster_generator</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#References">References</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div class="tocsection sourcelink">
    <a href="../../_sources/notebooks/api_guides/2.ipynb.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
  <p class="copyright">
    
      © Copyright 2020, John ZuHone and Eliza DIggins.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">
  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.1.2.
    <br/>
  </p>
</div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.13.3.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>